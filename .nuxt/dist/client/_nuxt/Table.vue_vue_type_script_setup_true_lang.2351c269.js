import{a as N,f,k as A,h as $,o as s,b as r,p as t,F as _,q as y,x as m,l as j,s as V,r as q,$ as v,am as B,S as C,ac as D}from"./entry.be97df1d.js";const F={class:"flex"},S={class:"border-collapse table flex-1"},T={class:"text-xs font-semibold uppercase text-gray-400 bg-gray-50 dark:bg-slate-800"},E={class:"font-semibold text-left"},L={key:0,class:"text-sm divide-y divide-gray-100 dark:divide-slate-700"},O={colspan:"100%",class:"p-2 whitespace-nowrap"},z={class:"flex justify-center items-center space-x-2"},I=t("div",null,"Loading data...",-1),M={key:1,class:"text-sm divide-y divide-gray-100 dark:divide-slate-700"},P={key:2,class:"text-sm divide-y divide-gray-100 dark:divide-slate-700"},G=t("tr",null,[t("td",{colspan:"100%",class:"p-2 whitespace-nowrap"},[t("div",{class:"flex justify-center"},"No data found")])],-1),H=[G],K=N({__name:"Table",props:{columns:{type:Array,required:!0},rows:{type:Array,default:()=>[]},api:{type:Object,required:!1}},setup(b,{expose:g}){const o=b,u=f(o.rows),k=D(),i=f(!1),p=async()=>{if(!!o.api){i.value=!0;try{const e=await k.create(o.api);e.status===200&&(u.value=e.data.data)}catch{}await new Promise(e=>setTimeout(e,1e3)),i.value=!1}},x=(e,l)=>{try{return l.split(".").reduce((n,d)=>n[d],e)}catch{return}},h=(e,l,a)=>a.data&&typeof a.data=="string"?a.data==="$index"?e+1:x(l,a.data)||"-":a.builder?a.builder(l):"-";return A(()=>{o.api&&p()}),$(()=>o.api,()=>{p()}),g({fetch:p}),(e,l)=>{const a=B;return s(),r("div",F,[t("table",S,[t("thead",T,[t("tr",null,[(s(!0),r(_,null,y(o.columns,n=>(s(),r("th",{key:n.key,class:"px-6 py-4 whitespace-nowrap"},[t("div",E,m(n.label),1)]))),128))])]),i.value?(s(),r("tbody",L,[t("tr",null,[t("td",O,[t("div",z,[j(a,{class:"text-primary"}),I])])])])):!i.value&&u.value.length!==0?(s(),r("tbody",M,[(s(!0),r(_,null,y(u.value,(n,d)=>(s(),r("tr",{key:d},[(s(!0),r(_,null,y(o.columns,(c,w)=>(s(),r("td",{key:w,class:V(["p-2 whitespace-nowrap",`${c.class} break-all`])},[q(e.$slots,`row-col-${c.key}`,{rawItem:n,col:c,item:h(d,n,c)},()=>[C(m(h(d,n,c)),1)])],2))),128))]))),128))])):v("",!0),!i.value&&u.value.length===0?(s(),r("tbody",P,H)):v("",!0)])])}}});export{K as _};
