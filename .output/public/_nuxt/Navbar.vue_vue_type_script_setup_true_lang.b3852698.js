import{a3 as Y,a as C,f as M,N as R,z as ee,k as N,a4 as K,a6 as $,i as te,o as x,b as w,p as m,ap as E,af as ne,E as oe,R as ae,r as P,u as b,c as A,$ as q,l as y,m as S,S as F,x as H,ar as se,am as le,y as re,A as ie}from"./entry.a19389b9.js";import{o as h,c as ue,u as ce,l as B,V as L,t as V,p as de,R as z}from"./open-closed.d3ca2572.js";import{m as pe,h as me,F as ve,o as _,v as fe,M as j,D as W,O as _e}from"./focus-management.8f53f9a1.js";import{x as he,a as I}from"./calculate-active-index.613dc462.js";import{b as ge}from"./use-resolve-button-type.d0c6c650.js";import{y as be}from"./use-outside-click.589e4b9e.js";function xe({container:o,accept:i,walk:v,enabled:c}){Y(()=>{let e=o.value;if(!e||c!==void 0&&!c.value)return;let f=pe(o);if(!f)return;let s=Object.assign(r=>i(r),{acceptNode:i}),d=f.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;d.nextNode();)v(d.currentNode)})}var Ie=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(Ie||{}),ye=(o=>(o[o.Pointer=0]="Pointer",o[o.Other=1]="Other",o))(ye||{});function we(o){requestAnimationFrame(()=>requestAnimationFrame(o))}let Z=Symbol("MenuContext");function O(o){let i=te(Z,null);if(i===null){let v=new Error(`<${o} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,O),v}return i}let ke=C({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(o,{slots:i,attrs:v}){let c=M(1),e=M(null),f=M(null),s=M([]),d=M(""),r=M(null),g=M(1);function u(l=n=>n){let n=r.value!==null?s.value[r.value]:null,a=_e(l(s.value.slice()),k=>h(k.dataRef.domRef)),p=n?a.indexOf(n):null;return p===-1&&(p=null),{items:a,activeItemIndex:p}}let t={menuState:c,buttonRef:e,itemsRef:f,items:s,searchQuery:d,activeItemIndex:r,activationTrigger:g,closeMenu:()=>{c.value=1,r.value=null},openMenu:()=>c.value=0,goToItem(l,n,a){let p=u(),k=he(l===I.Specific?{focus:I.Specific,id:n}:{focus:l},{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});d.value="",r.value=k,g.value=a!=null?a:1,s.value=p.items},search(l){let n=d.value!==""?0:1;d.value+=l.toLowerCase();let a=(r.value!==null?s.value.slice(r.value+n).concat(s.value.slice(0,r.value+n)):s.value).find(k=>k.dataRef.textValue.startsWith(d.value)&&!k.dataRef.disabled),p=a?s.value.indexOf(a):-1;p===-1||p===r.value||(r.value=p,g.value=1)},clearSearch(){d.value=""},registerItem(l,n){let a=u(p=>[...p,{id:l,dataRef:n}]);s.value=a.items,r.value=a.activeItemIndex,g.value=1},unregisterItem(l){let n=u(a=>{let p=a.findIndex(k=>k.id===l);return p!==-1&&a.splice(p,1),a});s.value=n.items,r.value=n.activeItemIndex,g.value=1}};return be([e,f],(l,n)=>{var a;t.closeMenu(),me(n,ve.Loose)||(l.preventDefault(),(a=h(e))==null||a.focus())},R(()=>c.value===0)),ee(Z,t),ue(R(()=>ce(c.value,{[0]:B.Open,[1]:B.Closed}))),()=>{let l={open:c.value===0};return L({ourProps:{},theirProps:o,slot:l,slots:i,attrs:v,name:"Menu"})}}}),Me=C({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(o,{attrs:i,slots:v,expose:c}){let e=O("MenuButton"),f=`headlessui-menu-button-${V()}`;c({el:e.buttonRef,$el:e.buttonRef});function s(u){switch(u.key){case _.Space:case _.Enter:case _.ArrowDown:u.preventDefault(),u.stopPropagation(),e.openMenu(),$(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case _.ArrowUp:u.preventDefault(),u.stopPropagation(),e.openMenu(),$(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function d(u){switch(u.key){case _.Space:u.preventDefault();break}}function r(u){o.disabled||(e.menuState.value===0?(e.closeMenu(),$(()=>{var t;return(t=h(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(u.preventDefault(),e.openMenu(),we(()=>{var t;return(t=h(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=ge(R(()=>({as:o.as,type:i.type})),e.buttonRef);return()=>{var u;let t={open:e.menuState.value===0},l={ref:e.buttonRef,id:f,type:g.value,"aria-haspopup":!0,"aria-controls":(u=h(e.itemsRef))==null?void 0:u.id,"aria-expanded":o.disabled?void 0:e.menuState.value===0,onKeydown:s,onKeyup:d,onClick:r};return L({ourProps:l,theirProps:o,slot:t,attrs:i,slots:v,name:"MenuButton"})}}}),Re=C({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(o,{attrs:i,slots:v,expose:c}){let e=O("MenuItems"),f=`headlessui-menu-items-${V()}`,s=M(null);c({el:e.itemsRef,$el:e.itemsRef}),xe({container:R(()=>h(e.itemsRef)),enabled:R(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function d(t){var l;switch(s.value&&clearTimeout(s.value),t.key){case _.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case _.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let n=e.items.value[e.activeItemIndex.value];(l=h(n.dataRef.domRef))==null||l.click()}e.closeMenu(),W(h(e.buttonRef));break;case _.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case _.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case _.Home:case _.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case _.End:case _.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case _.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),$(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case _.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),$(()=>fe(h(e.buttonRef),t.shiftKey?j.Previous:j.Next));break;default:t.key.length===1&&(e.search(t.key),s.value=setTimeout(()=>e.clearSearch(),350));break}}function r(t){switch(t.key){case _.Space:t.preventDefault();break}}let g=de(),u=R(()=>g!==null?g.value===B.Open:e.menuState.value===0);return()=>{var t,l;let n={open:e.menuState.value===0},a={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(l=h(e.buttonRef))==null?void 0:l.id,id:f,onKeydown:d,onKeyup:r,role:"menu",tabIndex:0,ref:e.itemsRef};return L({ourProps:a,theirProps:o,slot:n,attrs:i,slots:v,features:z.RenderStrategy|z.Static,visible:u.value,name:"MenuItems"})}}}),U=C({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(o,{slots:i,attrs:v,expose:c}){let e=O("MenuItem"),f=`headlessui-menu-item-${V()}`,s=M(null);c({el:s,$el:s});let d=R(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===f:!1),r=R(()=>({disabled:o.disabled,textValue:"",domRef:s}));N(()=>{var n,a;let p=(a=(n=h(s))==null?void 0:n.textContent)==null?void 0:a.toLowerCase().trim();p!==void 0&&(r.value.textValue=p)}),N(()=>e.registerItem(f,r)),K(()=>e.unregisterItem(f)),Y(()=>{e.menuState.value===0&&(!d.value||e.activationTrigger.value!==0&&$(()=>{var n,a;return(a=(n=h(s))==null?void 0:n.scrollIntoView)==null?void 0:a.call(n,{block:"nearest"})}))});function g(n){if(o.disabled)return n.preventDefault();e.closeMenu(),W(h(e.buttonRef))}function u(){if(o.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,f)}function t(){o.disabled||d.value||e.goToItem(I.Specific,f,0)}function l(){o.disabled||!d.value||e.goToItem(I.Nothing)}return()=>{let{disabled:n}=o,a={active:d.value,disabled:n};return L({ourProps:{id:f,ref:s,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,onClick:g,onFocus:u,onPointermove:t,onMousemove:t,onPointerleave:l,onMouseleave:l},theirProps:o,slot:a,attrs:v,slots:i,name:"MenuItem"})}}});const Se=(o,i)=>{const v=()=>{(window.pageYOffset||document.documentElement.scrollTop)>i?o.classList.add("sticky"):o.classList.remove("sticky")};return window.addEventListener("scroll",v),K(()=>{window.removeEventListener("scroll",v)}),{onScroll:v}},Te={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 192 512",width:"1.2em",height:"1.2em"},$e=m("path",{fill:"currentColor",d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72s-72-32.2-72-72s32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8S24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72s-32.2-72-72-72s-72 32.2-72 72z"},null,-1),De=[$e];function Pe(o,i){return x(),w("svg",Te,De)}const qe={name:"fa-solid-ellipsis-v",render:Pe},Ce={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1568 1280",width:"1.2em",height:"1.2em"},Le=m("path",{fill:"currentColor",d:"M640 1184q0 4 1 20t.5 26.5t-3 23.5t-10 19.5t-20.5 6.5H288q-119 0-203.5-84.5T0 992V288Q0 169 84.5 84.5T288 0h320q13 0 22.5 9.5T640 32q0 4 1 20t.5 26.5t-3 23.5t-10 19.5T608 128H288q-66 0-113 47t-47 113v704q0 66 47 113t113 47h312l11.5 1l11.5 3l8 5.5l7 9l2 13.5zm928-544q0 26-19 45l-544 544q-19 19-45 19t-45-19t-19-45V896H448q-26 0-45-19t-19-45V448q0-26 19-45t45-19h448V96q0-26 19-45t45-19t45 19l544 544q19 19 19 45z"},null,-1),Oe=[Le];function Ee(o,i){return x(),w("svg",Ce,Oe)}const Ae={name:"fa-sign-out",render:Ee},Ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1664 1312",width:"1.2em",height:"1.2em"},Be=m("path",{fill:"currentColor",d:"M1408 768v480q0 26-19 45t-45 19H960V928H704v384H320q-26 0-45-19t-19-45V768q0-1 .5-3t.5-3l575-474l575 474q1 2 1 6zm223-69l-62 74q-8 9-21 11h-3q-13 0-21-7L832 200L140 777q-12 8-24 7q-13-2-21-11l-62-74q-8-10-7-23.5T37 654L756 55q32-26 76-26t76 26l244 204V64q0-14 9-23t23-9h192q14 0 23 9t9 23v408l219 182q10 8 11 21.5t-7 23.5z"},null,-1),Ve=[Be];function Fe(o,i){return x(),w("svg",Ne,Ve)}const He={name:"fa-home",render:Fe},ze={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},je=m("path",{fill:"currentColor",d:"m13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29l-4.3 4.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l4.29-4.3l4.29 4.3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42Z"},null,-1),Ue=[je];function Ye(o,i){return x(),w("svg",ze,Ue)}const Ke={name:"uil-times",render:Ye},We={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ze=m("path",{fill:"currentColor",d:"M3 8h18a1 1 0 0 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"},null,-1),Qe=[Ze];function Ge(o,i){return x(),w("svg",We,Qe)}const Je={name:"uil-bars",render:Ge},Xe=""+globalThis.__publicAssetsURL("assets/icons/foody.png"),et={id:"navbar-banner",class:"banner"},tt={class:"max-w-8xl w-full mx-auto"},nt={class:"py-3 lg:px-8 mx-4 lg:mx-0"},ot={class:"relative flex items-center"},at={key:0,class:"lg:hidden flex items-center self-center justify-center mr-2"},st={class:"flex items-center text-gray-600 dark:text-gray-300 text-lg","aria-hidden":"true"},lt=m("span",{class:"sr-only"},"home",-1),rt={class:"flex items-center"},it=["alt"],ut={key:1,class:"flex-1 flex items-center justify-end"},ct=m("span",null,"Home",-1),dt=m("span",null,"Logout",-1),pt={key:2,class:"flex-1 flex justify-end lg:hidden"},mt={class:"flex items-center text-gray-600 dark:text-gray-300 text-sm","aria-hidden":"true"},vt={key:0,class:"fixed lg:hidden bg-gray-100 dark:bg-slate-800 pt-12 top-0 left-0 w-screen h-screen z-30 flex flex-col"},ft={class:"flex-1 flex flex-col relative overflow-y-auto"},_t={key:0},wt=C({__name:"Navbar",setup(o){const i=E("app"),v=M(null),c=E("navbar.showDrawer",()=>!1),e=E("navbar.showOptions",()=>!1);N(()=>{if(!v.value)return;const{onScroll:n}=Se(v.value,0);setTimeout(()=>n(),50),setInterval(()=>{window.innerWidth<1024&&f()},100)}),ne(()=>{});const f=()=>{c.value||e.value?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},s=()=>c.value=!c.value,d=n=>{n?e.value=n:e.value=!e.value},{$auth:r}=oe(),g=ae(),u=()=>r.logout(),t=()=>g.push(l.value),l=R(()=>r.isLoggedIn?{name:"owner"}:{name:"index"});return(n,a)=>{const p=Je,k=Ke,D=ie,Q=He,G=Ae,J=qe,X=re;return x(),w("div",{ref_key:"navbar",ref:v,class:"backdrop-filter backdrop-blur-md top-0 z-30 w-full flex-none transition-colors duration-300 lg:z-50 border-b border-gray-900/10 dark:border-gray-50/[0.2] bg-white/[0.5] dark:bg-slate-900/[0.5]"},[m("div",et,[P(n.$slots,"banner")]),m("div",tt,[m("div",nt,[m("div",ot,[n.$slots.drawer?(x(),w("div",at,[m("button",{class:"flex items-center focus:outline-none","aria-label":"Toggle Drawer Menu",onClick:a[0]||(a[0]=T=>s())},[m("span",st,[b(c)?(x(),A(k,{key:1})):(x(),A(p,{key:0}))])])])):q("",!0),P(n.$slots,"title",{},()=>[y(D,{tag:"a",class:"mr-3 flex-none overflow-hidden md:w-auto text-md font-bold text-gray-900 dark:text-gray-200",to:b(l)},{default:S(()=>[lt,m("span",rt,[m("img",{src:Xe,alt:b(i).name,class:"h-6 mr-2"},null,8,it),F(" "+H(b(i).name),1)])]),_:1},8,["to"])]),b(r).isLoggedIn?(x(),w("div",ut,[y(b(ke),null,{default:S(()=>[y(b(Me),null,{default:S(()=>{var T;return[F(H(((T=b(r).user)==null?void 0:T.name)||""),1)]}),_:1}),y(b(Re),{class:"absolute z-50 flex flex-col space-y-3 top-0 mt-8 bg-gray-100 dark:bg-slate-800 pl-4 pr-8 py-4 rounded-lg items-start justify-start text-sm"},{default:S(()=>[y(b(U),null,{default:S(()=>[m("button",{class:"flex space-x-2 items-center",onClick:a[1]||(a[1]=T=>t())},[y(Q,{class:"text-xs"}),ct])]),_:1}),y(b(U),null,{default:S(()=>[m("button",{class:"flex space-x-2 items-center",onClick:a[2]||(a[2]=T=>u())},[y(G,{class:"text-xs"}),dt])]),_:1})]),_:1})]),_:1})])):q("",!0),P(n.$slots,"menu"),n.$slots.options?(x(),w("div",pt,[m("button",{class:"flex items-center focus:outline-none","aria-label":"Toggle Options Menu",onClick:a[3]||(a[3]=T=>d())},[m("span",mt,[y(J)])])])):q("",!0)])])]),y(X,null,{default:S(()=>[(x(),A(le,{to:"#app-after"},[y(se,{name:"slide-fade-from-up",mode:"out-in"},{default:S(()=>[b(c)&&n.$slots.drawer?(x(),w("div",vt,[m("div",ft,[P(n.$slots,"drawer",{toggleDrawer:s})])])):q("",!0)]),_:3}),b(e)&&n.$slots.options?(x(),w("div",_t,[P(n.$slots,"options",{toggleOptions:d,showOptions:b(e)})])):q("",!0)]))]),_:3})],512)}}});export{wt as _};
