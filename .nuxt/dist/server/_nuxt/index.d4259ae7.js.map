{"version":3,"file":"index.d4259ae7.js","sources":["../../../../pages/owner/index.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport {\n  TabGroup,\n  TabList,\n  Tab as HeadlessUiTab,\n  TabPanels,\n  TabPanel,\n} from '@headlessui/vue'\nimport { useToast } from 'vue-toastification'\nimport { capitalize } from '~/utils/str'\nconst screen = useScreen()\n\n// composable\n// const { t } = useLang()\nconst { socket } = useSocket()\nconst toast = useToast()\n\n// compiler macro\ndefinePageMeta({\n  layout: 'dashboard',\n  middleware: ['auth'],\n})\nuseHead(() => ({\n  titleTemplate: '',\n  title: capitalize('Foody Owner'),\n}))\n\nconst tab = ref(null)\nconst selectedTab = ref(0)\nconst changeTab = (index: number) => {\n  selectedTab.value = index\n}\n\n// menus\nconst subpages = shallowRef([\n  {\n    key: 'menu',\n    name: 'Menu',\n    component: resolveComponent('DashboardPagesMenu'),\n  },\n  {\n    key: 'order',\n    name: 'Orders',\n    component: resolveComponent('DashboardPagesOrder'),\n  },\n  {\n    key: 'transaction',\n    name: 'Transactions',\n    component: resolveComponent('DashboardPagesTransactions'),\n  },\n])\n\nconst onNewOrderNotif = (data: any) => {\n  console.log('new order', data)\n  if (selectedTab.value !== 1) {\n    toast.info('New order received!, click to navigate orders tab', {\n      onClick: () => {\n        changeTab(1)\n      },\n    })\n  } else {\n    toast.success('New order received!')\n  }\n}\n\nonMounted(() => {\n  socket.value?.on('new:order', onNewOrderNotif)\n})\nonBeforeUnmount(() => {\n  socket.value?.off('new:order', onNewOrderNotif)\n})\n</script>\n\n<template>\n  <PageWrapper>\n    <PageHeader>\n      <PageTitle text=\"Owner Dashboard\" class=\"capitalize\" />\n    </PageHeader>\n    <PageBody>\n      <PageSection>\n        <TabGroup\n          ref=\"tab\"\n          :selectedIndex=\"selectedTab\"\n          as=\"div\"\n          class=\"flex flex-col\"\n          :vertical=\"screen.higherThan(Size.MEDIUM)\"\n          @change=\"changeTab\"\n        >\n          <TabList class=\"w-auto md:w-1/6 flex space-x-4 rounded-lg mb-2\">\n            <HeadlessUiTab\n              v-for=\"page in subpages\"\n              :key=\"page.key\"\n              v-slot=\"{ selected }\"\n              as=\"template\"\n            >\n              <button\n                :class=\"[\n                  'md:w-full text-left px-3 py-1.5 rounded py-2.5 text-sm leading-5 transition-all hover:bg-gray-200 hover:text-slate-900 dark:hover:bg-white/[0.12] dark:hover:text-white',\n                  selected\n                    ? 'font-extrabold bg-gray-200 dark:bg-white/[0.12]'\n                    : 'text-slate-800 dark:text-gray-400',\n                ]\"\n              >\n                {{ page.name }}\n              </button>\n            </HeadlessUiTab>\n          </TabList>\n          <TabPanels class=\"flex-1 max-w-full\">\n            <TabPanel\n              v-for=\"item in subpages\"\n              :key=\"item.key\"\n              class=\"max-w-full\"\n            >\n              <component :is=\"item.component\" />\n            </TabPanel>\n          </TabPanels>\n        </TabGroup>\n      </PageSection>\n    </PageBody>\n  </PageWrapper>\n</template>\n"],"names":["__nuxt_component_0","__nuxt_component_1","__nuxt_component_2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,UAAA,SAAA;AAIA,cAAA;AACA,aAAA;AAOA,YAAA,OAAA;AAAA,MAAe,eAAA;AAAA,MACE,OAAA,WAAA,aAAA;AAAA,IACgB,EAAA;AAGjC,UAAA,MAAA,IAAA,IAAA;AACA,UAAA,cAAA,IAAA,CAAA;AACA,UAAA,YAAA,CAAA,UAAA;AACE,kBAAA,QAAA;AAAA,IAAoB;AAItB,UAAA,WAAA,WAAA;AAAA,MAA4B;AAAA,QAC1B,KAAA;AAAA,QACO,MAAA;AAAA,QACC,WAAAA;AAAAA,MAC0C;AAAA,MAClD;AAAA,QACA,KAAA;AAAA,QACO,MAAA;AAAA,QACC,WAAAC;AAAAA,MAC2C;AAAA,MACnD;AAAA,QACA,KAAA;AAAA,QACO,MAAA;AAAA,QACC,WAAAC;AAAAA,MACkD;AAAA,IAC1D,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}