import{e as d,h as v,F as s}from"./focus-management.c75eb7cc.js";import{o as E}from"./open-closed.bcd7c5c7.js";import{a3 as p,f as w,N as L}from"./entry.ae18c763.js";function c(u,l,r){d||p(i=>{document.addEventListener(u,l,r),i(()=>document.removeEventListener(u,l,r))})}function x(u,l,r=L(()=>!0)){function i(e,f){if(!r.value||e.defaultPrevented)return;let t=f(e);if(t===null||!t.ownerDocument.documentElement.contains(t))return;let m=function o(n){return typeof n=="function"?o(n()):Array.isArray(n)||n instanceof Set?n:[n]}(u);for(let o of m){if(o===null)continue;let n=o instanceof HTMLElement?o:E(o);if(n!=null&&n.contains(t))return}return!v(t,s.Loose)&&t.tabIndex!==-1&&e.preventDefault(),l(e,t)}let a=w(null);c("mousedown",e=>{r.value&&(a.value=e.target)},!0),c("click",e=>{!a.value||(i(e,()=>a.value),a.value=null)},!0),c("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{x as y};
