import{_ as P}from"./Navbar.vue_vue_type_script_setup_true_lang.f42d2adb.js";import{_ as R}from"./Footer.vue_vue_type_script_setup_true_lang.362fbe84.js";import{_ as U}from"./Button.vue_vue_type_script_setup_true_lang.505ab260.js";import{a as q,an as L,aa as V,a9 as Y,f,k as A,ap as F,o,b as n,r as _,p as e,$ as x,s as H,ad as b,F as K,q as O,x as c,u as r,l as a,as as X,ab as I,ac as D}from"./entry.be97df1d.js";import"./Anchor.vue_vue_type_script_setup_true_lang.599ef886.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang.3d184123.js";import"./listbox.b081d93e.js";import"./open-closed.81a07b0f.js";import"./focus-management.6cf72a63.js";import"./calculate-active-index.613dc462.js";import"./use-resolve-button-type.e3dabf3b.js";import"./use-outside-click.ca5701a4.js";import"./hidden.47754aca.js";import"./Header.vue_vue_type_script_setup_true_lang.780407cb.js";import"./Body.87a94809.js";import"./index.vue_vue_type_script_setup_true_lang.73acee15.js";import"./Overlay.53c1c5a5.js";import"./transition.68f47538.js";import"./Navbar.vue_vue_type_script_setup_true_lang.e9779b11.js";const Q=e("div",{id:"app-before"},null,-1),G={class:"flex flex-col min-h-screen"},J={class:"flex-1 w-full flex flex-col"},W={class:"relative flex-1 flex flex-col mx-auto max-w-8xl w-full h-full"},Z=e("div",{id:"app-after"},null,-1),ee={key:0,class:"fixed top-0 left-0 w-screen h-screen z-50 bg-black/80"},te={class:"flex-1 relative bg-slate-800 rounded-lg shadow-xl border border-primary-600"},se={class:"text-2xl font-bold px-6 py-4 flex justify-between"},oe=e("span",null,"Cart",-1),ne={class:"px-6 pb-4 flex flex-col space-y-8"},ae={class:"flex flex-col space-y-1"},le={class:"flex items-center"},ie={class:"mr-2 truncate max-w-full"},ce={class:"flex space-x-2 text-xs"},re=["onClick"],de=["onClick"],ue={key:0},me=e("div",{class:"text-center"},"Cart is empty",-1),fe=[me],_e={key:0,class:"flex space-x-2 justify-end"},pe={key:1,class:"flex space-x-2 justify-end"},ve={key:0,class:"fixed top-0 left-0 flex w-screen h-screen z-50 bg-primary-600"},xe={class:"flex-1 relative flex flex-col justify-center items-center space-y-8"},he=e("div",{class:"text-4xl font-bold text-center"}," YOUR CHECKOUT SUCCESS CREATE!!! ",-1),ye={class:"flex-1 flex flex-col justify-between"},Ce=e("div",{class:"font-mono font-bold text-xl"},"CHECKOUT TICKET",-1),ke={class:"font-semibold"},ge={class:"flex flex-col"},be=e("span",{class:"font-semibold mr-2"},"Name :",-1),we={class:"font-mono"},$e=e("span",{class:"font-semibold mr-2"},"Total :",-1),Ee={class:"pr-2 flex mr-4 items-center"},Ie=q({__name:"page",setup(ze){const z=L("app"),u=V(),w=Y(),S=D(),{reset:$,increment:j,decrement:T}=u,l=f(!1),p=()=>{l.value=!l.value},d=f(),h=f(),y=f({x:0,y:0}),v=f(!1),B=async()=>{w.show(),await new Promise(t=>setTimeout(t,2e3));try{const t=await S.create(I.Transaction.Create({user_name:"guest",menus:[...u.menus.map(m=>({id:m.menu.id,qty:m.quantity}))]}));t.status===201&&(d.value=t.data.data,v.value=!0,$())}catch{}w.hide()},N=()=>{v.value=!1,p()},E=function(t){if(h.value&&v.value){const{x:m,y:C,width:k,height:i}=h.value.getBoundingClientRect(),s={x:m+k/2,y:C+i/2},g=(t.clientY-s.y)*.008,M=(t.clientX-s.x)*-.008;y.value={x:g,y:M}}};return A(()=>{document.addEventListener("mousemove",E)}),F(()=>{document.removeEventListener("mousemove",E)}),(t,m)=>{const C=P,k=R,i=U;return o(),n("div",null,[_(t.$slots,"app-before"),Q,e("div",G,[_(t.$slots,"header",{},()=>[a(C)]),e("div",J,[e("div",W,[_(t.$slots,"default")])]),_(t.$slots,"footer",{},()=>[a(k)])]),_(t.$slots,"app-after"),Z,e("div",null,[l.value?(o(),n("div",ee)):x("",!0),e("div",{class:H(["transition-all duration-300 fixed block w-96 z-50",{"bottom-0 right-0 mb-6 mr-6":!l.value}]),style:b(`${l.value?"top: 50%; left: 50%; transform: translate(-50%, -50%);":""}`)},[e("div",te,[e("div",se,[oe,l.value?(o(),n("span",{key:0,class:"transform rotate-45 text-4xl cursor-pointer hover:text-red-500",onClick:p}," + ")):x("",!0)]),e("div",ne,[e("div",ae,[(o(!0),n(K,null,O(r(u).menus,s=>(o(),n("div",{key:s.menu.id,class:"flex justify-between"},[e("div",le,[e("span",ie,c(s.menu.name),1),e("span",ce,[e("button",{class:"rounded-full w-5 h-5 flex justify-center items-center bg-slate-700",onClick:g=>r(T)(s)}," - ",8,re),e("div",null,c(s.quantity),1),e("button",{class:"rounded-full w-5 h-5 flex justify-center items-center bg-slate-700",onClick:g=>r(j)(s)}," + ",8,de)])]),e("div",null,c(t.$getCurrentCurrency().symbol+r(u).getPriceMenuItem(s)),1)]))),128)),r(u).menus.length===0?(o(),n("div",ue,fe)):x("",!0)]),l.value?(o(),n("div",pe,[a(i,{size:"sm",type:"danger",text:"Cancel",onClick:p}),a(i,{size:"sm",text:"Checkout Now",onClick:B})])):(o(),n("div",_e,[a(i,{size:"sm",type:"danger",text:"Reset",onClick:r($)},null,8,["onClick"]),a(i,{size:"sm",text:"Checkout",onClick:p})]))])])],6)]),v.value&&d.value?(o(),n("div",ve,[e("div",xe,[he,e("div",{ref_key:"ticketElm",ref:h,class:"w-120 h-50 rounded-lg shadow bg-white text-slate-800 flex px-6 py-4 relative",style:b({transform:`perspective(1000px) rotateX(${y.value.x}deg) rotateY(${y.value.y}deg)`})},[e("div",ye,[e("div",null,[Ce,e("div",ke,c(r(z).name),1)]),e("div",ge,[e("div",null,[be,e("span",we,c(d.value.user_name),1)]),e("div",null,[$e,e("span",null,c(t.$formatCurrency(d.value.total)),1)])])]),e("div",Ee,[a(X,{value:`#${d.value.code}`,size:142,level:"H"},null,8,["value"])]),e("div",{class:"absolute right-0 transform mr-7 font-bold font-mono text-gray-600",style:b({top:"50%",transform:"translate(50%, -50%) rotate(90deg)"})}," #"+c(d.value.code),5)],4),e("div",null,[a(i,{size:"sm",text:"Back to Catalog",onClick:N})])])])):x("",!0)])}}});export{Ie as default};
